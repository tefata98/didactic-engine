import{e as x,j as e,u as D,r as b,M as C,b as A,d as S,c as E,B as P,Z as R,S as u}from"./index-BdfcoLRq.js";import{G as I}from"./GlassCard-pE1Da8oH.js";import{P as T}from"./PageHeader-CBitiSUq.js";import{B as U}from"./bell-BgOeFAqI.js";import{V as O}from"./volume-2-DzL4_aDL.js";import{R as G}from"./refresh-cw-BtS36L8o.js";import{T as W}from"./trash-2-CzSd8abV.js";const g=x("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),q=x("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]),B=x("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",key:"1xcu5"}],["circle",{cx:"17.5",cy:"10.5",r:".5",key:"736e4u"}],["circle",{cx:"8.5",cy:"7.5",r:".5",key:"clrty"}],["circle",{cx:"6.5",cy:"12.5",r:".5",key:"1s4xz9"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),z=x("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),F=x("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]);function s({enabled:o,onChange:i}){return e.jsx("button",{onClick:()=>i==null?void 0:i(!o),className:`relative w-12 h-7 rounded-full transition-all duration-300 flex-shrink-0 ${o?"bg-gradient-to-r from-indigo-500 to-violet-500":"bg-white/10"}`,children:e.jsx("div",{className:`absolute top-0.5 w-6 h-6 rounded-full bg-white shadow-lg transition-transform duration-300 ${o?"translate-x-[22px]":"translate-x-0.5"}`})})}function a({icon:o,label:i,description:n,children:m}){return e.jsxs("div",{className:"flex items-center justify-between py-3",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center flex-shrink-0",children:e.jsx(o,{size:18,className:"text-white/60"})}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white",children:i}),n&&e.jsx("p",{className:"text-xs text-white/40 mt-0.5",children:n})]})]}),e.jsx("div",{className:"flex-shrink-0 ml-3",children:m})]})}function p({title:o,children:i}){return e.jsxs(I,{className:"mb-4",children:[e.jsx("h3",{className:"text-xs font-semibold text-white/40 uppercase tracking-wider mb-2",children:o}),e.jsx("div",{className:"divide-y divide-white/5",children:i})]})}function Y(){const{state:o,dispatch:i}=D(),{settings:n}=o,[m,f]=b.useState(!1),[h,j]=b.useState(typeof Notification<"u"?Notification.permission:"denied"),y=async()=>{if(typeof Notification>"u")return;const t=await Notification.requestPermission();j(t)},l=(t,c)=>{i({type:"UPDATE_SETTINGS",payload:{[t]:c}})},k=()=>{const t=u.exportAll(),c=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),r=document.createElement("a");r.href=d,r.download=`light-backup-${new Date().toISOString().split("T")[0]}.json`,r.click(),URL.revokeObjectURL(d)},w=()=>{const t=document.createElement("input");t.type="file",t.accept=".json",t.onchange=c=>{const d=c.target.files[0];if(!d)return;const r=new FileReader;r.onload=M=>{try{const v=JSON.parse(M.target.result);u.importAll(v),i({type:"HYDRATE"})}catch{alert("Invalid backup file")}},r.readAsText(d)},t.click()},N=()=>{u.clearAll(),i({type:"HYDRATE"}),f(!1)};return e.jsxs("div",{className:"space-y-2 pb-4",children:[e.jsx(T,{title:"Settings",subtitle:"Customize your experience"}),e.jsxs(p,{title:"General",children:[e.jsx(a,{icon:U,label:"Push Notifications",description:h==="granted"?"Permission granted":h==="denied"?"Blocked in browser settings":"Get reminders and alerts",children:e.jsxs("div",{className:"flex items-center gap-2",children:[h==="default"&&n.notifications&&e.jsx("button",{onClick:y,className:"text-xs text-indigo-400",children:"Allow"}),e.jsx(s,{enabled:n.notifications,onChange:t=>{l("notifications",t),t&&h==="default"&&y()}})]})}),e.jsx(a,{icon:B,label:"Dark Mode",description:"Always on",children:e.jsx(s,{enabled:n.darkMode,onChange:t=>l("darkMode",t)})}),e.jsx(a,{icon:O,label:"Sound Effects",description:"UI sounds and alerts",children:e.jsx(s,{enabled:n.soundEffects,onChange:t=>l("soundEffects",t)})}),e.jsx(a,{icon:G,label:"Auto Sync",description:"Sync data across devices",children:e.jsx(s,{enabled:n.autoSync,onChange:t=>l("autoSync",t)})})]}),e.jsxs(p,{title:"Privacy & Security",children:[e.jsx(a,{icon:q,label:"Face ID / Fingerprint",description:"Biometric authentication",children:e.jsx(s,{enabled:n.faceId,onChange:t=>l("faceId",t)})}),e.jsx(a,{icon:F,label:"Offline Mode",description:"Work without internet",children:e.jsx(s,{enabled:n.offlineMode,onChange:t=>l("offlineMode",t)})})]}),e.jsxs(p,{title:"Reminders",children:[e.jsx(a,{icon:C,label:"Sleep Wind-Down",description:"Daily at 10:30 PM",children:e.jsx(s,{enabled:n.reminders.sleepWindDown.enabled,onChange:t=>i({type:"UPDATE_REMINDER",payload:{sleepWindDown:{...n.reminders.sleepWindDown,enabled:t}}})})}),e.jsx(a,{icon:A,label:"Workout",description:"Mon/Wed/Fri at 7:00 AM",children:e.jsx(s,{enabled:n.reminders.workout.enabled,onChange:t=>i({type:"UPDATE_REMINDER",payload:{workout:{...n.reminders.workout,enabled:t}}})})}),e.jsx(a,{icon:S,label:"Vocal Practice",description:"Daily at 6:00 PM",children:e.jsx(s,{enabled:n.reminders.vocalPractice.enabled,onChange:t=>i({type:"UPDATE_REMINDER",payload:{vocalPractice:{...n.reminders.vocalPractice,enabled:t}}})})}),e.jsx(a,{icon:E,label:"Budget Alerts",description:"Spending notifications",children:e.jsx(s,{enabled:n.reminders.budgetAlerts.enabled,onChange:t=>i({type:"UPDATE_REMINDER",payload:{budgetAlerts:{...n.reminders.budgetAlerts,enabled:t}}})})}),e.jsx(a,{icon:P,label:"Reading Goal",description:"Daily at 9:00 PM",children:e.jsx(s,{enabled:n.reminders.readingGoal.enabled,onChange:t=>i({type:"UPDATE_REMINDER",payload:{readingGoal:{...n.reminders.readingGoal,enabled:t}}})})})]}),e.jsx(p,{title:"AI Integration",children:e.jsx(a,{icon:R,label:"Anthropic API Key",description:n.anthropicApiKey?"Key is set":"Required for AI news",children:e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("input",{type:"password",value:n.anthropicApiKey||"",onChange:t=>l("anthropicApiKey",t.target.value),placeholder:"sk-ant-...",className:"w-36 px-2 py-1.5 rounded-lg text-xs text-white bg-white/5 border border-white/10 outline-none focus:border-indigo-500/50"})})})}),e.jsxs("button",{className:"w-full py-4 rounded-glass font-heading font-semibold text-white flex items-center justify-center gap-2 mb-4",style:{background:"linear-gradient(135deg, #6366f1, #8b5cf6)",boxShadow:"0 4px 20px rgba(99,102,241,0.3)"},onClick:()=>{window.deferredPrompt&&window.deferredPrompt.prompt()},children:[e.jsx(g,{size:20}),"Install App"]}),e.jsxs(p,{title:"Data Management",children:[e.jsx(a,{icon:g,label:"Export Data",description:"Download JSON backup",children:e.jsx("button",{onClick:k,className:"btn-ghost text-xs",children:"Export"})}),e.jsx(a,{icon:z,label:"Import Data",description:"Restore from backup",children:e.jsx("button",{onClick:w,className:"btn-ghost text-xs",children:"Import"})}),e.jsx(a,{icon:W,label:"Clear All Data",description:"Delete everything",children:m?e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:N,className:"px-3 py-1.5 rounded-xl text-xs font-medium text-white bg-red-500 hover:bg-red-600 transition-colors",children:"Confirm"}),e.jsx("button",{onClick:()=>f(!1),className:"px-3 py-1.5 rounded-xl text-xs font-medium text-white/50 bg-white/5",children:"Cancel"})]}):e.jsx("button",{onClick:()=>f(!0),className:"px-3 py-1.5 rounded-xl text-xs font-medium text-red-400 bg-red-500/10 hover:bg-red-500/20 transition-colors",children:"Clear"})})]}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx("p",{className:"text-xs text-white/30",children:"Light v2.0.0"}),e.jsx("p",{className:"text-xs text-white/20 mt-1",children:"Made with care for Stefan"})]})]})}export{Y as default};

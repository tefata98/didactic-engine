import{e as z,r as m,N as he,j as e,M as K}from"./index-B0_94x7T.js";import{G as L}from"./GlassCard-CaNaUVB9.js";import{P as ue}from"./PageHeader-gd7KbtI7.js";import{P as me}from"./ProgressRing-Csqgvy42.js";import{P as fe}from"./ProgressBar-B7AIl1HS.js";import{B as pe}from"./Badge-CSx9yrX9.js";import{S as ge}from"./Sparkline-B6vuGvSf.js";import{u as ye,g as Y,c as ee,f as be}from"./dateHelpers-BhpmWWPE.js";import{S as ne}from"./star-BkOPtBuY.js";import{S as ve}from"./sun-Chn6MgTP.js";import{C as U}from"./clock-hONFI2Bl.js";import{T as V}from"./trending-up-DWAN_C3C.js";import{E as je,aL as we,aU as Ne,aV as ke,F as Se,au as Me,aW as Ce,I as q,aX as Ae,aY as De,aZ as te,a_ as Pe,aI as Ie,Z as Oe,L as Le,c as Be,a$ as ze,b0 as Te,aJ as B,b1 as se,b2 as We,R as Ee,X as $e,T as Fe}from"./CartesianChart-D6eNt7ux.js";import{B as Re,a as qe}from"./BarChart-BfFLDJ3B.js";import{C as He,Y as _e}from"./YAxis-CzrqH4hd.js";import{B as re}from"./brain-CbPhj32i.js";import{C as Ke}from"./check-C8qI3Hny.js";import{R as Ye}from"./refresh-cw-BxGQxv35.js";import{W as Ge}from"./wind-C15fkiK7.js";const Ue=z("BedDouble",[["path",{d:"M2 20v-8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v8",key:"1k78r4"}],["path",{d:"M4 10V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4",key:"fb3tl2"}],["path",{d:"M12 4v6",key:"1dcgq2"}],["path",{d:"M2 18h20",key:"ajqnye"}]]),le=z("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Ve=z("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),oe=z("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),Xe=z("Sunrise",[["path",{d:"M12 2v8",key:"1q4o3n"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m8 6 4-4 4 4",key:"ybng9g"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),ce=z("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]);class Ze{constructor(t){var{x:i,y:r}=t;this.xAxisScale=i,this.yAxisScale=r}map(t,i){var r,l,{position:p}=i;return{x:(r=this.xAxisScale.map(t.x,{position:p}))!==null&&r!==void 0?r:0,y:(l=this.yAxisScale.map(t.y,{position:p}))!==null&&l!==void 0?l:0}}mapWithFallback(t,i){var r,l,{position:p,fallback:f}=i,v,c;return f==="rangeMin"?v=this.yAxisScale.rangeMin():f==="rangeMax"?v=this.yAxisScale.rangeMax():v=0,f==="rangeMin"?c=this.xAxisScale.rangeMin():f==="rangeMax"?c=this.xAxisScale.rangeMax():c=0,{x:(r=this.xAxisScale.map(t.x,{position:p}))!==null&&r!==void 0?r:c,y:(l=this.yAxisScale.map(t.y,{position:p}))!==null&&l!==void 0?l:v}}isInRange(t){var{x:i,y:r}=t,l=i==null||this.xAxisScale.isInRange(i),p=r==null||this.yAxisScale.isInRange(r);return l&&p}}function ae(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(s);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable})),i.push.apply(i,r)}return i}function ie(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?ae(Object(i),!0).forEach(function(r){Je(s,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach(function(r){Object.defineProperty(s,r,Object.getOwnPropertyDescriptor(i,r))})}return s}function Je(s,t,i){return(t=Qe(t))in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function Qe(s){var t=et(s,"string");return typeof t=="symbol"?t:t+""}function et(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var r=i.call(s,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function H(){return H=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)({}).hasOwnProperty.call(i,r)&&(s[r]=i[r])}return s},H.apply(null,arguments)}var tt=(s,t)=>{var i;if(m.isValidElement(s))i=m.cloneElement(s,t);else if(typeof s=="function")i=s(t);else{if(!B(t.x1)||!B(t.y1)||!B(t.x2)||!B(t.y2))return null;i=m.createElement("line",H({},t,{className:"recharts-reference-line-line"}))}return i},st=(s,t,i,r,l,p)=>{var{x:f,width:v}=p,c=l.map(s,{position:i});if(!B(c)||t==="discard"&&!l.isInRange(c))return null;var w=[{x:f+v,y:c},{x:f,y:c}];return r==="left"?w.reverse():w},at=(s,t,i,r,l,p)=>{var{y:f,height:v}=p,c=l.map(s,{position:i});if(!B(c)||t==="discard"&&!l.isInRange(c))return null;var w=[{x:c,y:f+v},{x:c,y:f}];return r==="top"?w.reverse():w},it=(s,t,i,r)=>{var l=[r.mapWithFallback(s[0],{position:i,fallback:"rangeMin"}),r.mapWithFallback(s[1],{position:i,fallback:"rangeMax"})];return t==="discard"&&l.some(p=>!r.isInRange(p))?null:l},nt=(s,t,i,r,l,p,f)=>{var{x:v,y:c,segment:w,ifOverflow:o}=f,M=se(v),I=se(c);return I?st(c,o,r,p,t,i):M?at(v,o,r,l,s,i):w!=null&&w.length===2?it(w,o,r,new Ze({x:s,y:t})):null};function rt(s){var t=we();return m.useEffect(()=>(t(Ne(s)),()=>{t(ke(s))})),null}function lt(s){var{xAxisId:t,yAxisId:i,shape:r,className:l,ifOverflow:p}=s,f=Me(),v=Ce(),c=q(D=>Ae(D,t)),w=q(D=>De(D,i)),o=q(D=>te(D,"xAxis",t,f)),M=q(D=>te(D,"yAxis",i,f)),I=Pe();if(!v||!I||c==null||w==null||o==null||M==null)return null;var O=nt(o,M,I,s.position,c.orientation,w.orientation,s);if(!O)return null;var j=O[0],T=O[1];if(j==null||T==null)return null;var{x:W,y:A}=j,{x:$,y:F}=T,k=p==="hidden"?"url(#".concat(v,")"):void 0,_=ie(ie({clipPath:k},Ie(s)),{},{x1:W,y1:A,x2:$,y2:F}),E=We({x1:W,y1:A,x2:$,y2:F});return m.createElement(Oe,{zIndex:s.zIndex},m.createElement(Le,{className:Be("recharts-reference-line",l)},tt(r,_),m.createElement(ze,H({},E,{lowerWidth:E.width,upperWidth:E.width}),m.createElement(Te,{label:s.label}),s.children)))}var ot={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",label:!1,stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:Se.line};function X(s){var t=je(s,ot);return m.createElement(m.Fragment,null,m.createElement(rt,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),m.createElement(lt,t))}X.displayName="ReferenceLine";const u="#818cf8",ct={entries:[],targetBedtime:"23:00",windDownChecklist:{screensOff:!1,brainDump:!1,roomCool:!1,noCaffeine:!1}},G=[{id:1,title:"Keep a Consistent Schedule",description:"Go to bed and wake up at the same time every day, even on weekends. This reinforces your circadian rhythm and improves sleep quality over time.",icon:U,source:"Matthew Walker, Why We Sleep"},{id:2,title:"Cool Your Bedroom",description:"Your body needs to drop its core temperature by about 1 degree Celsius to initiate sleep. Keep your room at 18-19°C (65-67°F) for optimal sleep onset.",icon:ce,source:"Sleep Foundation Research"},{id:3,title:"No Screens 60 Minutes Before Bed",description:"Blue light from screens suppresses melatonin production by up to 50%. Use night mode or blue-light glasses if you must use devices in the evening.",icon:oe,source:"Harvard Medical School"},{id:4,title:"Caffeine Has a 6-Hour Half-Life",description:"A coffee at 2 PM means 50% of the caffeine is still in your system at 8 PM. Set a hard cutoff at noon or 1 PM for better sleep quality.",icon:le,source:"Journal of Clinical Sleep Medicine"},{id:5,title:"Practice a Brain Dump",description:"Write down tomorrow's tasks, worries, and thoughts before bed. Studies show this reduces sleep onset latency by an average of 9 minutes.",icon:re,source:"Baylor University Study, 2018"},{id:6,title:"Resistance Training Improves Sleep",description:"Regular resistance training (like your band workouts) has been shown to improve sleep quality, reduce sleep onset time, and increase deep sleep stages.",icon:V,source:"British Journal of Sports Medicine, 2022"},{id:7,title:"Use the 4-7-8 Breathing Technique",description:"Inhale for 4 seconds, hold for 7 seconds, exhale for 8 seconds. This activates the parasympathetic nervous system and prepares your body for sleep.",icon:Ge,source:"Dr. Andrew Weil"},{id:8,title:"Sunlight Within 30 Minutes of Waking",description:"Exposure to morning sunlight helps regulate your circadian rhythm and makes it easier to fall asleep at night. Aim for 10-15 minutes outdoors.",icon:Xe,source:"Dr. Andrew Huberman, Stanford"}];function dt({value:s,onChange:t,size:i=24}){return e.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(r=>e.jsx("button",{onClick:()=>t==null?void 0:t(r),className:"transition-transform hover:scale-110 active:scale-95",type:"button",children:e.jsx(ne,{size:i,className:r<=s?"text-yellow-400 fill-yellow-400":"text-white/20 hover:text-white/40"})},r))})}function xt({active:s,payload:t,label:i}){return!s||!(t!=null&&t.length)?null:e.jsxs("div",{className:"glass-card-sm px-3 py-2 text-xs",children:[e.jsx("p",{className:"text-white/50",children:i}),e.jsxs("p",{className:"text-white font-medium",children:[t[0].value.toFixed(1),"h"]})]})}function It(){var J,Q;const[s,t]=ye(he.sleep,null,ct),[i,r]=m.useState("23:00"),[l,p]=m.useState("07:00"),[f,v]=m.useState(0),[c,w]=m.useState(0),o=s.entries||[],M=s.targetBedtime||"23:00",I=s.windDownChecklist||{screensOff:!1,brainDump:!1,roomCool:!1,noCaffeine:!1},O=Y(),j=m.useMemo(()=>o.find(a=>a.date===O),[o,O]);function T(a,n){const[d,b]=a.split(":").map(Number),[N,h]=n.split(":").map(Number);let g=d*60+b,S=N*60+h;return S<=g&&(S+=1440),(S-g)/60}function W(a){if(!a)return 0;const n=a.duration;let d;n>=7&&n<=8?d=100:n>=6&&n<7?d=60+(n-6)*40:n>8&&n<=9?d=100-(n-8)*20:n<6?d=Math.max(0,n*10):d=Math.max(0,100-(n-9)*30);const[b,N]=M.split(":").map(Number),[h,g]=a.bedtime.split(":").map(Number);let S=b*60+N,P=h*60+g;S<720&&(S+=1440),P<720&&(P+=1440);const x=Math.abs(S-P),y=Math.max(0,100-x*2),C=a.quality/5*100;return Math.round(d*.4+y*.3+C*.3)}const A=m.useMemo(()=>j?W(j):o.length>0?W(o[o.length-1]):0,[j,o,M]),$=m.useMemo(()=>{const a=[];for(let n=6;n>=0;n--){const d=new Date(Date.now()-n*864e5),b=Y(d),N=ee(d,!0),h=o.find(g=>g.date===b);a.push({day:N,hours:h?h.duration:0,quality:h?h.quality:0})}return a},[o]),F=m.useMemo(()=>{const a=[];for(let n=6;n>=0;n--){const d=new Date(Date.now()-n*864e5),b=Y(d),N=ee(d,!0),h=o.find(g=>g.date===b);if(h){const[g,S]=h.bedtime.split(":").map(Number);let P=g*60+S;P<720&&(P+=1440);const[x,y]=M.split(":").map(Number);let C=x*60+y;C<720&&(C+=1440);const xe=P-C;a.push({day:N,bedtime:h.bedtime,diffMinutes:xe})}else a.push({day:N,bedtime:null,diffMinutes:null})}return a},[o,M]),k=m.useMemo(()=>{if(o.length===0)return{avg30:0,best:null,worst:null,weekdayAvg:0,weekendAvg:0};const n=[...o].sort((x,y)=>x.date.localeCompare(y.date)).slice(-30),d=n.reduce((x,y)=>x+y.duration,0)/n.length,b=n.reduce((x,y)=>!x||y.duration>x.duration?y:x,null),N=n.reduce((x,y)=>!x||y.duration<x.duration?y:x,null),h=n.filter(x=>{const C=new Date(x.date).getDay();return C!==0&&C!==6}),g=n.filter(x=>{const C=new Date(x.date).getDay();return C===0||C===6}),S=h.length>0?h.reduce((x,y)=>x+y.duration,0)/h.length:0,P=g.length>0?g.reduce((x,y)=>x+y.duration,0)/g.length:0;return{avg30:d,best:b,worst:N,weekdayAvg:S,weekendAvg:P}},[o]);function _(a){if(a.preventDefault(),f===0)return;const n=T(i,l),d={date:O,bedtime:i,wakeTime:l,quality:f,duration:Math.round(n*10)/10,windDown:{...I}};t(b=>{const N=b.entries.findIndex(g=>g.date===O);let h;return N>=0?(h=[...b.entries],h[N]=d):h=[...b.entries,d],{...b,entries:h}})}function E(a){t(n=>({...n,windDownChecklist:{...n.windDownChecklist,[a]:!n.windDownChecklist[a]}}))}function D(){w(a=>(a+1)%G.length)}const de=[{key:"screensOff",label:"Screens off",icon:oe},{key:"brainDump",label:"Brain dump done",icon:re},{key:"roomCool",label:"Room cool (18-19°C)",icon:ce},{key:"noCaffeine",label:"No caffeine after 2 PM",icon:le}],Z=Object.values(I).filter(Boolean).length,R=G[c];return e.jsxs("div",{className:"space-y-6 pb-4",children:[e.jsx(ue,{title:"Sleep",subtitle:be(),rightElement:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:18,style:{color:u}}),e.jsxs("span",{className:"text-sm text-white/50",children:["Target: ",M]})]})}),e.jsxs(L,{className:"flex items-center gap-6",children:[e.jsx(me,{value:A,size:120,strokeWidth:10,color:u,label:`${A}`,sublabel:"Sleep Score"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-heading font-semibold text-white mb-1",children:A>=80?"Great Sleep":A>=60?"Fair Sleep":"Needs Improvement"}),e.jsx("p",{className:"text-sm text-white/50 mb-3",children:A>=80?"You're sleeping well. Keep up the routine!":A>=60?"Room for improvement. Check your wind-down habits.":"Focus on consistency and duration for better rest."}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Duration"}),e.jsxs("p",{className:"text-sm font-medium text-white",children:[(j==null?void 0:j.duration.toFixed(1))||((J=o[o.length-1])==null?void 0:J.duration.toFixed(1))||"0","h"]})]}),e.jsx("div",{className:"w-px bg-white/10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Quality"}),e.jsx("div",{className:"flex gap-0.5 mt-0.5",children:[1,2,3,4,5].map(a=>{var n;return e.jsx(ne,{size:10,className:a<=((j==null?void 0:j.quality)||((n=o[o.length-1])==null?void 0:n.quality)||0)?"text-yellow-400 fill-yellow-400":"text-white/20"},a)})})]}),e.jsx("div",{className:"w-px bg-white/10"}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-white/40",children:"Bedtime"}),e.jsx("p",{className:"text-sm font-medium text-white",children:(j==null?void 0:j.bedtime)||((Q=o[o.length-1])==null?void 0:Q.bedtime)||"--:--"})]})]})]})]}),e.jsxs(L,{children:[e.jsxs("h3",{className:"font-heading font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(Ue,{size:18,style:{color:u}}),"Log Tonight's Sleep"]}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm text-white/50 mb-1.5 flex items-center gap-1.5",children:[e.jsx(K,{size:14}),"Bedtime"]}),e.jsx("input",{type:"time",value:i,onChange:a=>r(a.target.value),className:"glass-input text-sm"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm text-white/50 mb-1.5 flex items-center gap-1.5",children:[e.jsx(ve,{size:14}),"Wake Time"]}),e.jsx("input",{type:"time",value:l,onChange:a=>p(a.target.value),className:"glass-input text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-white/50 mb-2 block",children:"Sleep Quality"}),e.jsx(dt,{value:f,onChange:v,size:28})]}),i&&l&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl",style:{background:`${u}10`},children:[e.jsx(U,{size:14,style:{color:u}}),e.jsxs("span",{className:"text-sm text-white/70",children:["Duration: ",T(i,l).toFixed(1)," hours"]})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full text-sm",disabled:f===0,children:j?"Update Sleep Log":"Log Sleep"})]})]}),e.jsxs(L,{children:[e.jsxs("h3",{className:"font-heading font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(V,{size:18,style:{color:u}}),"Weekly Sleep"]}),e.jsx(Ee,{width:"100%",height:200,children:e.jsxs(Re,{data:$,barSize:28,children:[e.jsx(He,{strokeDasharray:"3 3",stroke:"rgba(255,255,255,0.04)",vertical:!1}),e.jsx($e,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fill:"rgba(255,255,255,0.4)",fontSize:12}}),e.jsx(_e,{domain:[0,10],axisLine:!1,tickLine:!1,tick:{fill:"rgba(255,255,255,0.3)",fontSize:11},width:30,tickFormatter:a=>`${a}h`}),e.jsx(Fe,{content:e.jsx(xt,{}),cursor:!1}),e.jsx(X,{y:7,stroke:"#22c55e",strokeDasharray:"4 4",strokeOpacity:.5,label:{value:"7h",position:"right",fill:"#22c55e",fontSize:10}}),e.jsx(X,{y:8,stroke:"#22c55e",strokeDasharray:"4 4",strokeOpacity:.5,label:{value:"8h",position:"right",fill:"#22c55e",fontSize:10}}),e.jsx(qe,{dataKey:"hours",radius:[6,6,0,0],fill:u}),e.jsx("defs",{children:e.jsxs("linearGradient",{id:"sleepBarGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:u}),e.jsx("stop",{offset:"100%",stopColor:"#6366f1"})]})})]})}),e.jsxs("div",{className:"flex items-center justify-center gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-3 rounded-sm",style:{background:u}}),e.jsx("span",{className:"text-xs text-white/40",children:"Hours slept"})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx("div",{className:"w-3 h-0.5 bg-green-500",style:{borderTop:"2px dashed #22c55e"}}),e.jsx("span",{className:"text-xs text-white/40",children:"7-8h goal"})]})]})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-heading font-semibold text-white flex items-center gap-2",children:[e.jsx(U,{size:18,style:{color:u}}),"Bedtime Consistency"]}),e.jsxs(pe,{color:u,variant:"outlined",children:["Target: ",M]})]}),e.jsx("div",{className:"space-y-2",children:F.map((a,n)=>{const d=a.diffMinutes!==null&&Math.abs(a.diffMinutes)<=15,b=a.diffMinutes!==null&&Math.abs(a.diffMinutes)<=30,N=a.diffMinutes===null?"rgba(255,255,255,0.06)":d?"#22c55e":b?"#f59e0b":"#ef4444",g=a.diffMinutes!==null?Math.min(Math.abs(a.diffMinutes)/120*100,100):0,S=a.diffMinutes!==null?a.diffMinutes>0?"late":"early":"";return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-xs text-white/40 w-8",children:a.day}),e.jsxs("div",{className:"flex-1 h-6 rounded-lg overflow-hidden relative",style:{background:"rgba(255,255,255,0.04)"},children:[e.jsx("div",{className:"absolute left-1/2 top-0 w-px h-full bg-white/10"}),a.diffMinutes!==null&&e.jsx("div",{className:"absolute top-1 h-4 rounded-full transition-all duration-500",style:{background:N,width:`${Math.max(g/2,2)}%`,left:a.diffMinutes>=0?"50%":`${50-g/2}%`,opacity:.7}})]}),e.jsx("span",{className:"text-xs text-white/50 w-14 text-right",children:a.bedtime||"--:--"}),a.diffMinutes!==null&&e.jsx("span",{className:`text-xs w-12 text-right ${d?"text-green-400":b?"text-yellow-400":"text-red-400"}`,children:d?"On time":`${Math.abs(a.diffMinutes)}m ${S}`})]},n)})})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-heading font-semibold text-white flex items-center gap-2",children:[e.jsx(K,{size:18,style:{color:u}}),"Wind-Down Checklist"]}),e.jsxs("span",{className:"text-xs text-white/40",children:[Z,"/4 done"]})]}),e.jsx("div",{className:"space-y-2",children:de.map(a=>{const n=I[a.key];return e.jsxs("button",{onClick:()=>E(a.key),className:`w-full flex items-center gap-3 p-3 rounded-xl transition-all ${n?"bg-white/[0.06]":"hover:bg-white/[0.03]"}`,children:[e.jsx("div",{className:`w-6 h-6 rounded-lg flex items-center justify-center flex-shrink-0 transition-all ${n?"bg-gradient-to-br from-indigo-500 to-violet-500":"border border-white/20"}`,children:n&&e.jsx(Ke,{size:14,className:"text-white"})}),e.jsx(a.icon,{size:16,className:n?"text-white/70":"text-white/30"}),e.jsx("span",{className:`text-sm ${n?"text-white/80 line-through":"text-white/60"}`,children:a.label})]},a.key)})}),e.jsx(fe,{value:Z,max:4,color:u,height:4,className:"mt-4"})]}),e.jsxs(L,{children:[e.jsxs("h3",{className:"font-heading font-semibold text-white mb-4 flex items-center gap-2",children:[e.jsx(V,{size:18,style:{color:u}}),"Sleep Trends"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.03)"},children:[e.jsx("p",{className:"text-xs text-white/40 mb-1",children:"30-Day Average"}),e.jsxs("p",{className:"text-xl font-heading font-bold text-white",children:[k.avg30.toFixed(1),"h"]}),e.jsx(ge,{data:o.slice(-14).map(a=>a.duration),color:u,width:100,height:24})]}),e.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.03)"},children:[e.jsx("p",{className:"text-xs text-white/40 mb-1",children:"Weekday vs Weekend"}),e.jsxs("div",{className:"flex items-end gap-2 mt-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 rounded-t",style:{height:`${k.weekdayAvg*8}px`,background:u}}),e.jsx("p",{className:"text-xs text-white/40 mt-1",children:"WD"}),e.jsxs("p",{className:"text-xs text-white/60",children:[k.weekdayAvg.toFixed(1),"h"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 rounded-t",style:{height:`${k.weekendAvg*8}px`,background:"#a78bfa"}}),e.jsx("p",{className:"text-xs text-white/40 mt-1",children:"WE"}),e.jsxs("p",{className:"text-xs text-white/60",children:[k.weekendAvg.toFixed(1),"h"]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-4",children:[e.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.03)"},children:[e.jsx("p",{className:"text-xs text-white/40 mb-1",children:"Best Night"}),k.best?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg font-heading font-bold text-green-400",children:[k.best.duration.toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-white/40",children:k.best.date})]}):e.jsx("p",{className:"text-sm text-white/30",children:"No data"})]}),e.jsxs("div",{className:"p-3 rounded-xl",style:{background:"rgba(255,255,255,0.03)"},children:[e.jsx("p",{className:"text-xs text-white/40 mb-1",children:"Worst Night"}),k.worst?e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-lg font-heading font-bold text-red-400",children:[k.worst.duration.toFixed(1),"h"]}),e.jsx("p",{className:"text-xs text-white/40",children:k.worst.date})]}):e.jsx("p",{className:"text-sm text-white/30",children:"No data"})]})]})]}),e.jsxs(L,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"font-heading font-semibold text-white flex items-center gap-2",children:[e.jsx(Ve,{size:18,style:{color:"#f59e0b"}}),"Sleep Tips"]}),e.jsx("button",{onClick:D,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",title:"Next tip",children:e.jsx(Ye,{size:16,className:"text-white/40"})})]}),e.jsx("div",{className:"p-4 rounded-xl",style:{background:`${u}08`,border:`1px solid ${u}15`},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center flex-shrink-0",style:{background:`${u}20`},children:e.jsx(R.icon,{size:20,style:{color:u}})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-white text-sm mb-1",children:R.title}),e.jsx("p",{className:"text-xs text-white/60 leading-relaxed mb-2",children:R.description}),e.jsx("p",{className:"text-xs text-white/30 italic",children:R.source})]})]})}),e.jsx("div",{className:"flex justify-center gap-1.5 mt-3",children:G.map((a,n)=>e.jsx("button",{onClick:()=>w(n),className:`w-2 h-2 rounded-full transition-all ${n===c?"w-4":""}`,style:{background:n===c?u:"rgba(255,255,255,0.15)"}},n))})]})]})}export{It as default};

import{e as F,r as d,j as e,f as q,D as L,M as G,U as P,c as U,B as X,d as Y,b as J,C as T,X as Q}from"./index-CreE_J-6.js";import{G as N}from"./GlassCard-BGsc9I2N.js";import{P as Z}from"./ProgressBar-BdW2WuXA.js";import{F as ee}from"./FloatingActionButton-g2IE1psn.js";import{g as C,u as D,a as te,c as se,f as ae,d as S,i as ne,e as _}from"./dateHelpers-Ezuz5gcs.js";import{C as ie}from"./chevron-left-cLwXktEH.js";import{C as E}from"./check-CyfAzaHt.js";import{S as le}from"./sun-B_XLe3ZZ.js";import{B as oe}from"./briefcase-DKI5yYXO.js";import{F as re}from"./flame-CBF2OYsy.js";import"./plus-DE5JmLKl.js";const ce=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),de=F("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),xe={work:oe,fitness:J,vocals:Y,reading:X,finance:U,personal:P},me=["Work","Fitness","Vocals","Reading","Finance","Personal"],he=["ðŸ˜«","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜„"],ge=[{id:"morning",label:"Morning",icon:le,range:"6:00 â€” 12:00"},{id:"afternoon",label:"Afternoon",icon:de,range:"12:00 â€” 18:00"},{id:"evening",label:"Evening",icon:G,range:"18:00 â€” 23:00"}],ue=[{id:"morning_routine",label:"Morning routine",short:"AM"},{id:"exercise",label:"Exercise",short:"FIT"},{id:"vocal_practice",label:"Vocal practice",short:"VOX"},{id:"read_15",label:"Read 15 min",short:"RD"},{id:"budget_check",label:"Budget check",short:"BG"},{id:"sleep_11pm",label:"Sleep by 11pm",short:"SLP"},{id:"no_screens",label:"No screens 10pm",short:"SCR"}];function Te(){const[i,x]=d.useState(new Date),[r,p]=d.useState("day"),[f,m]=d.useState(!1),l=C(i),[g,b]=D("lifeos_planner","tasks",{}),[u,k]=D("lifeos_planner","habits",{}),[n,c]=D("lifeos_planner","reflections",{});d.useEffect(()=>{const t=s=>{const a=s.target.tagName.toLowerCase();a==="input"||a==="textarea"||a==="select"||s.metaKey||s.ctrlKey||s.altKey||(s.key==="n"&&(s.preventDefault(),m(!0)),s.key==="Escape"&&m(!1))};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[]);const o=g[l]||[],$=u[l]||{},j=n[l]||{mood:-1,note:""},M=t=>b({...g,[l]:t}),H=t=>k({...u,[l]:t}),A=t=>c({...n,[l]:t}),K=t=>{M(o.map(s=>s.id===t?{...s,done:!s.done}:s))},O=t=>{M([...o,{...t,id:Date.now().toString(),done:!1}]),m(!1)},V=t=>{var h;let s=0,a=new Date;for(;;){const y=C(a);if((h=u[y])!=null&&h[t])s++,a=S(a,-1);else break}return s},R=o.filter(t=>t.done).length,w=[];if(o.some(t=>t.category==="vocals"&&t.done)||w.push("You haven't done vocal practice today"),!o.some(t=>t.category==="fitness"&&t.done)){const t=i.getDay();[1,3,5].includes(t)&&w.push("It's a resistance band day!")}const z=te(i);return e.jsxs("div",{className:"space-y-5 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-white",children:"Planner"}),e.jsxs("p",{className:"text-sm text-white/50 mt-1",children:[se(i),", ",ae(i)]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>p(r==="day"?"week":"day"),className:`btn-ghost text-xs ${r==="week"?"bg-indigo-500/20 text-indigo-300":""}`,children:[e.jsx(q,{size:14,className:"inline mr-1"}),r==="day"?"Week":"Day"]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>x(S(i,-1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(ie,{size:18,className:"text-white/60"})}),e.jsx("div",{className:"flex gap-2",children:z.map((t,s)=>{const a=ne(t,i),h=_(t);return e.jsxs("button",{onClick:()=>x(t),className:`flex flex-col items-center w-10 py-2 rounded-xl transition-all ${a?"bg-gradient-to-b from-indigo-500/20 to-violet-500/20 border border-indigo-500/30":"hover:bg-white/5"}`,children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[s]}),e.jsx("span",{className:`text-sm font-medium mt-1 ${a?"text-white":h?"text-indigo-400":"text-white/60"}`,children:t.getDate()})]},s)})}),e.jsx("button",{onClick:()=>x(S(i,1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(ce,{size:18,className:"text-white/60"})})]}),e.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-5 px-5",children:e.jsx("div",{className:"flex gap-3",children:ue.map(t=>{const s=!!$[t.id],a=V(t.id);return e.jsxs("button",{onClick:()=>H({...$,[t.id]:!s}),className:"flex flex-col items-center gap-1.5 flex-shrink-0",title:t.label,children:[e.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all ${s?"border-indigo-400 bg-indigo-500/20":"border-white/15 bg-white/5"}`,children:s?e.jsx(E,{size:16,className:"text-indigo-400"}):e.jsx("span",{className:"text-[10px] text-white/40",children:t.short})}),a>0&&e.jsxs("span",{className:"text-[9px] text-indigo-400 flex items-center gap-0.5",children:[e.jsx(re,{size:8}),a]})]},t.id)})})}),w.length>0&&e.jsx("div",{className:"space-y-2",children:w.map((t,s)=>e.jsxs("div",{className:"glass-card-sm px-4 py-3 flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0"}),e.jsx("span",{className:"text-white/70",children:t})]},s))}),r==="day"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:ge.map(t=>{const s=o.filter(a=>a.block===t.id);return e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(t.icon,{size:16,className:"text-white/40"}),e.jsx("h3",{className:"text-sm font-heading font-semibold text-white",children:t.label}),e.jsx("span",{className:"text-xs text-white/30 ml-auto",children:t.range})]}),s.length===0?e.jsx("p",{className:"text-xs text-white/30 py-2",children:"No tasks scheduled"}):e.jsx("div",{className:"space-y-2",children:s.map(a=>(xe[a.category]||P,e.jsxs("div",{onClick:()=>K(a.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all ${a.done?"bg-white/[0.02] opacity-60":"bg-white/5 hover:bg-white/[0.07]"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-all ${a.done?"border-indigo-400 bg-indigo-500/30":"border-white/20"}`,children:a.done&&e.jsx(E,{size:10,className:"text-indigo-400"})}),e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:T[a.category]}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:`text-sm ${a.done?"line-through text-white/40":"text-white"}`,children:a.title})}),e.jsx("span",{className:"text-xs text-white/30 flex-shrink-0",children:a.time})]},a.id)))})]},t.id)})}),o.length>0&&e.jsxs(N,{padding:"p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Day Progress"}),e.jsxs("span",{className:"text-white/40",children:[R,"/",o.length," tasks"]})]}),e.jsx(Z,{value:R,max:o.length})]}),e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-3",children:"Daily Reflection"}),e.jsx("div",{className:"flex gap-3 mb-4",children:he.map((t,s)=>e.jsx("button",{onClick:()=>A({...j,mood:s}),className:`text-2xl p-2 rounded-xl transition-all ${j.mood===s?"bg-indigo-500/20 scale-110":"opacity-50 hover:opacity-80"}`,children:t},s))}),e.jsx("input",{type:"text",placeholder:"How was your day?",value:j.note,onChange:t=>A({...j,note:t.target.value}),className:"glass-input text-sm"})]})]}):e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-4",children:"Weekly Overview"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:z.map((t,s)=>{const a=C(t),h=g[a]||[],y=h.filter(W=>W.done).length,v=h.length,B=v?y/v*100:0,I=_(t);return e.jsxs("button",{onClick:()=>{x(t),p("day")},className:"flex flex-col items-center gap-2 p-2 rounded-xl hover:bg-white/5 transition-all",children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[s]}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xs font-medium border ${I?"border-indigo-400":"border-transparent"}`,style:{background:B>0?`rgba(99,102,241,${Math.max(.1,B/100*.5)})`:"rgba(255,255,255,0.03)"},children:t.getDate()}),e.jsx("span",{className:"text-[9px] text-white/30",children:v>0?`${y}/${v}`:"-"})]},s)})})]}),f&&e.jsx(pe,{onAdd:O,onClose:()=>m(!1)}),e.jsx(ee,{onClick:()=>m(!0)})]})}function pe({onAdd:i,onClose:x}){const[r,p]=d.useState(""),[f,m]=d.useState("09:00"),[l,g]=d.useState("work"),[b,u]=d.useState("morning"),k=n=>{n.preventDefault(),r.trim()&&i({title:r.trim(),time:f,category:l,block:b})};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center overflow-y-auto",onClick:x,children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs("div",{className:"relative glass-card w-full max-w-md p-6 mx-4 mb-24 md:mb-0 max-h-[85vh] overflow-y-auto animate-slideUp",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"font-heading font-semibold text-white text-lg",children:"Add Task"}),e.jsx("button",{onClick:x,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Q,{size:16,className:"text-white/70"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Task title",value:r,onChange:n=>p(n.target.value),className:"glass-input",autoFocus:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Time"}),e.jsx("input",{type:"time",value:f,onChange:n=>m(n.target.value),className:"glass-input text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Block"}),e.jsxs("select",{value:b,onChange:n=>u(n.target.value),className:"glass-input text-sm",children:[e.jsx("option",{value:"morning",children:"Morning"}),e.jsx("option",{value:"afternoon",children:"Afternoon"}),e.jsx("option",{value:"evening",children:"Evening"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-2 block",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(n=>{const c=n.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>g(c),className:`px-3 py-1.5 rounded-xl text-xs font-medium transition-all ${l===c?"text-white":"text-white/50 bg-white/5"}`,style:l===c?{background:`${T[c]}30`,color:T[c]}:{},children:n},c)})})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full py-3",children:"Add Task"})]})]})]})}export{Te as default};

import{e as G,r as x,j as e,f as U,D as L,M as q,U as E,c as X,B as Y,d as J,b as Q,C as $,X as Z}from"./index-DPMPy1jo.js";import{G as N}from"./GlassCard-BGTSY6va.js";import{P as ee}from"./ProgressBar-D7xp8F0l.js";import{F as se}from"./FloatingActionButton-HZVF2KrY.js";import{g as D,u as S,a as te,c as ae,f as ne,d as T,i as ie,e as P}from"./dateHelpers-CFm0bNkn.js";import{C as le}from"./chevron-left-DO1HNzHI.js";import{C as oe}from"./chevron-right-vWrCYCoy.js";import{C as _}from"./check-DbRiAb4g.js";import{S as re}from"./sun-BalYKXp1.js";import{B as ce}from"./briefcase-CzgC-GN_.js";import{T as de}from"./trash-2-9RAovqSw.js";import{F as xe}from"./flame-Fmj9tbWv.js";import"./plus-AKgJs4uu.js";const me=G("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),he={work:ce,fitness:Q,vocals:J,reading:Y,finance:X,personal:E},ge=["Work","Fitness","Vocals","Reading","Finance","Personal"],pe=["ðŸ˜«","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜„"],ue=[{id:"morning",label:"Morning",icon:re,range:"6:00 â€” 12:00"},{id:"afternoon",label:"Afternoon",icon:me,range:"12:00 â€” 18:00"},{id:"evening",label:"Evening",icon:q,range:"18:00 â€” 23:00"}],fe=[{id:"morning_routine",label:"Morning routine",short:"AM"},{id:"exercise",label:"Exercise",short:"FIT"},{id:"vocal_practice",label:"Vocal practice",short:"VOX"},{id:"read_15",label:"Read 15 min",short:"RD"},{id:"budget_check",label:"Budget check",short:"BG"},{id:"sleep_11pm",label:"Sleep by 11pm",short:"SLP"},{id:"no_screens",label:"No screens 10pm",short:"SCR"}];function ze(){const[i,m]=x.useState(new Date),[c,u]=x.useState("day"),[f,h]=x.useState(!1),l=D(i),[g,b]=S("lifeos_planner","tasks",{}),[p,k]=S("lifeos_planner","habits",{}),[n,d]=S("lifeos_planner","reflections",{});x.useEffect(()=>{const s=t=>{const a=t.target.tagName.toLowerCase();a==="input"||a==="textarea"||a==="select"||t.metaKey||t.ctrlKey||t.altKey||(t.key==="n"&&(t.preventDefault(),h(!0)),t.key==="Escape"&&h(!1))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]);const o=g[l]||[],M=p[l]||{},j=n[l]||{mood:-1,note:""},C=s=>b({...g,[l]:s}),F=s=>k({...p,[l]:s}),A=s=>d({...n,[l]:s}),H=s=>{C(o.map(t=>t.id===s?{...t,done:!t.done}:t))},K=s=>{C(o.filter(t=>t.id!==s))},O=s=>{C([...o,{...s,id:Date.now().toString(),done:!1}]),h(!1)},V=s=>{var r;let t=0,a=new Date;for(;;){const y=D(a);if((r=p[y])!=null&&r[s])t++,a=T(a,-1);else break}return t},z=o.filter(s=>s.done).length,w=[];if(o.some(s=>s.category==="vocals"&&s.done)||w.push("You haven't done vocal practice today"),!o.some(s=>s.category==="fitness"&&s.done)){const s=i.getDay();[1,3,5].includes(s)&&w.push("It's a resistance band day!")}const B=te(i);return e.jsxs("div",{className:"space-y-5 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-white",children:"Planner"}),e.jsxs("p",{className:"text-sm text-white/50 mt-1",children:[ae(i),", ",ne(i)]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>u(c==="day"?"week":"day"),className:`btn-ghost text-xs ${c==="week"?"bg-indigo-500/20 text-indigo-300":""}`,children:[e.jsx(U,{size:14,className:"inline mr-1"}),c==="day"?"Week":"Day"]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>m(T(i,-1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(le,{size:18,className:"text-white/60"})}),e.jsx("div",{className:"flex gap-2",children:B.map((s,t)=>{const a=ie(s,i),r=P(s);return e.jsxs("button",{onClick:()=>m(s),className:`flex flex-col items-center w-10 py-2 rounded-xl transition-all ${a?"bg-gradient-to-b from-indigo-500/20 to-violet-500/20 border border-indigo-500/30":"hover:bg-white/5"}`,children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[t]}),e.jsx("span",{className:`text-sm font-medium mt-1 ${a?"text-white":r?"text-indigo-400":"text-white/60"}`,children:s.getDate()})]},t)})}),e.jsx("button",{onClick:()=>m(T(i,1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(oe,{size:18,className:"text-white/60"})})]}),e.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-5 px-5",children:e.jsx("div",{className:"flex gap-3",children:fe.map(s=>{const t=!!M[s.id],a=V(s.id);return e.jsxs("button",{onClick:()=>F({...M,[s.id]:!t}),className:"flex flex-col items-center gap-1.5 flex-shrink-0",title:s.label,children:[e.jsx("div",{className:`w-11 h-11 rounded-full border-2 flex items-center justify-center transition-all ${t?"border-indigo-400 bg-indigo-500/20":"border-white/15 bg-white/5"}`,children:t?e.jsx(_,{size:16,className:"text-indigo-400"}):e.jsx("span",{className:"text-[10px] text-white/40",children:s.short})}),a>0&&e.jsxs("span",{className:"text-[9px] text-indigo-400 flex items-center gap-0.5",children:[e.jsx(xe,{size:8}),a]})]},s.id)})})}),w.length>0&&e.jsx("div",{className:"space-y-2",children:w.map((s,t)=>e.jsxs("div",{className:"glass-card-sm px-4 py-3 flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0"}),e.jsx("span",{className:"text-white/70",children:s})]},t))}),c==="day"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:ue.map(s=>{const t=o.filter(a=>a.block===s.id);return e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(s.icon,{size:16,className:"text-white/40"}),e.jsx("h3",{className:"text-sm font-heading font-semibold text-white",children:s.label}),e.jsx("span",{className:"text-xs text-white/30 ml-auto",children:s.range})]}),t.length===0?e.jsx("p",{className:"text-xs text-white/30 py-2",children:"No tasks scheduled"}):e.jsx("div",{className:"space-y-2",children:t.map(a=>(he[a.category]||E,e.jsxs("div",{onClick:()=>H(a.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all ${a.done?"bg-white/[0.02] opacity-60":"bg-white/5 hover:bg-white/[0.07]"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-all ${a.done?"border-indigo-400 bg-indigo-500/30":"border-white/20"}`,children:a.done&&e.jsx(_,{size:10,className:"text-indigo-400"})}),e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:$[a.category]}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:`text-sm ${a.done?"line-through text-white/40":"text-white"}`,children:a.title})}),e.jsx("span",{className:"text-xs text-white/30 flex-shrink-0",children:a.time}),e.jsx("button",{onClick:r=>{r.stopPropagation(),K(a.id)},className:"p-1.5 rounded-lg hover:bg-red-500/20 transition-colors flex-shrink-0",children:e.jsx(de,{size:14,className:"text-white/30 hover:text-red-400"})})]},a.id)))})]},s.id)})}),o.length>0&&e.jsxs(N,{padding:"p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Day Progress"}),e.jsxs("span",{className:"text-white/40",children:[z,"/",o.length," tasks"]})]}),e.jsx(ee,{value:z,max:o.length})]}),e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-3",children:"Daily Reflection"}),e.jsx("div",{className:"flex gap-3 mb-4",children:pe.map((s,t)=>e.jsx("button",{onClick:()=>A({...j,mood:t}),className:`text-2xl p-2 rounded-xl transition-all ${j.mood===t?"bg-indigo-500/20 scale-110":"opacity-50 hover:opacity-80"}`,children:s},t))}),e.jsx("input",{type:"text",placeholder:"How was your day?",value:j.note,onChange:s=>A({...j,note:s.target.value}),className:"glass-input text-sm"})]})]}):e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-4",children:"Weekly Overview"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:B.map((s,t)=>{const a=D(s),r=g[a]||[],y=r.filter(W=>W.done).length,v=r.length,R=v?y/v*100:0,I=P(s);return e.jsxs("button",{onClick:()=>{m(s),u("day")},className:"flex flex-col items-center gap-2 p-2 rounded-xl hover:bg-white/5 transition-all",children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[t]}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xs font-medium border ${I?"border-indigo-400":"border-transparent"}`,style:{background:R>0?`rgba(99,102,241,${Math.max(.1,R/100*.5)})`:"rgba(255,255,255,0.03)"},children:s.getDate()}),e.jsx("span",{className:"text-[9px] text-white/30",children:v>0?`${y}/${v}`:"-"})]},t)})})]}),f&&e.jsx(be,{onAdd:O,onClose:()=>h(!1)}),e.jsx(se,{onClick:()=>h(!0)})]})}function be({onAdd:i,onClose:m}){const[c,u]=x.useState(""),[f,h]=x.useState("09:00"),[l,g]=x.useState("work"),[b,p]=x.useState("morning"),k=n=>{n.preventDefault(),c.trim()&&i({title:c.trim(),time:f,category:l,block:b})};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center overflow-y-auto",onClick:m,children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs("div",{className:"relative glass-card w-full max-w-md p-6 mx-4 mb-6 md:mb-0 max-h-[80vh] overflow-y-auto animate-slideUp",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"font-heading font-semibold text-white text-lg",children:"Add Task"}),e.jsx("button",{onClick:m,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Z,{size:16,className:"text-white/70"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Task title",value:c,onChange:n=>u(n.target.value),className:"glass-input",autoFocus:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Time"}),e.jsx("input",{type:"time",value:f,onChange:n=>h(n.target.value),className:"glass-input text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Block"}),e.jsxs("select",{value:b,onChange:n=>p(n.target.value),className:"glass-input text-sm",children:[e.jsx("option",{value:"morning",children:"Morning"}),e.jsx("option",{value:"afternoon",children:"Afternoon"}),e.jsx("option",{value:"evening",children:"Evening"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-2 block",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ge.map(n=>{const d=n.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>g(d),className:`px-3 py-1.5 rounded-xl text-xs font-medium transition-all ${l===d?"text-white":"text-white/50 bg-white/5"}`,style:l===d?{background:`${$[d]}30`,color:$[d]}:{},children:n},d)})})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full py-3",children:"Add Task"})]})]})]})}export{ze as default};

import{e as W,r as d,j as e,f as G,D as L,M as U,U as F,c as q,B as X,d as Y,b as J,C as T,X as Q}from"./index-DWpuMBsw.js";import{G as N}from"./GlassCard-CZmjDEl9.js";import{P as Z}from"./ProgressBar-DxQu17-b.js";import{F as ee}from"./FloatingActionButton-C7YolfRi.js";import{g as C,u as D,a as se,c as te,f as ae,d as S,i as ne,e as _}from"./dateHelpers-ByHpLa8T.js";import{C as ie}from"./chevron-left-K-jhRNzd.js";import{C as le}from"./chevron-right-ByQ31OY9.js";import{C as E}from"./check-mFfQTaPm.js";import{S as oe}from"./sun-BwBVcq2P.js";import{B as re}from"./briefcase-BZlddf2X.js";import{F as ce}from"./flame-CSk3Fbbi.js";import"./plus-CEtdg8p4.js";const de=W("Sunset",[["path",{d:"M12 10V2",key:"16sf7g"}],["path",{d:"m4.93 10.93 1.41 1.41",key:"2a7f42"}],["path",{d:"M2 18h2",key:"j10viu"}],["path",{d:"M20 18h2",key:"wocana"}],["path",{d:"m19.07 10.93-1.41 1.41",key:"15zs5n"}],["path",{d:"M22 22H2",key:"19qnx5"}],["path",{d:"m16 6-4 4-4-4",key:"6wukr"}],["path",{d:"M16 18a4 4 0 0 0-8 0",key:"1lzouq"}]]),xe={work:re,fitness:J,vocals:Y,reading:X,finance:q,personal:F},me=["Work","Fitness","Vocals","Reading","Finance","Personal"],he=["ðŸ˜«","ðŸ˜•","ðŸ˜","ðŸ™‚","ðŸ˜„"],ge=[{id:"morning",label:"Morning",icon:oe,range:"6:00 â€” 12:00"},{id:"afternoon",label:"Afternoon",icon:de,range:"12:00 â€” 18:00"},{id:"evening",label:"Evening",icon:U,range:"18:00 â€” 23:00"}],ue=[{id:"morning_routine",label:"Morning routine",short:"AM"},{id:"exercise",label:"Exercise",short:"FIT"},{id:"vocal_practice",label:"Vocal practice",short:"VOX"},{id:"read_15",label:"Read 15 min",short:"RD"},{id:"budget_check",label:"Budget check",short:"BG"},{id:"sleep_11pm",label:"Sleep by 11pm",short:"SLP"},{id:"no_screens",label:"No screens 10pm",short:"SCR"}];function $e(){const[i,x]=d.useState(new Date),[r,p]=d.useState("day"),[f,m]=d.useState(!1),l=C(i),[g,b]=D("lifeos_planner","tasks",{}),[u,k]=D("lifeos_planner","habits",{}),[n,c]=D("lifeos_planner","reflections",{});d.useEffect(()=>{const s=t=>{const a=t.target.tagName.toLowerCase();a==="input"||a==="textarea"||a==="select"||t.metaKey||t.ctrlKey||t.altKey||(t.key==="n"&&(t.preventDefault(),m(!0)),t.key==="Escape"&&m(!1))};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[]);const o=g[l]||[],$=u[l]||{},j=n[l]||{mood:-1,note:""},M=s=>b({...g,[l]:s}),P=s=>k({...u,[l]:s}),A=s=>c({...n,[l]:s}),H=s=>{M(o.map(t=>t.id===s?{...t,done:!t.done}:t))},K=s=>{M([...o,{...s,id:Date.now().toString(),done:!1}]),m(!1)},O=s=>{var h;let t=0,a=new Date;for(;;){const y=C(a);if((h=u[y])!=null&&h[s])t++,a=S(a,-1);else break}return t},z=o.filter(s=>s.done).length,w=[];if(o.some(s=>s.category==="vocals"&&s.done)||w.push("You haven't done vocal practice today"),!o.some(s=>s.category==="fitness"&&s.done)){const s=i.getDay();[1,3,5].includes(s)&&w.push("It's a resistance band day!")}const B=se(i);return e.jsxs("div",{className:"space-y-5 pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-heading font-bold text-white",children:"Planner"}),e.jsxs("p",{className:"text-sm text-white/50 mt-1",children:[te(i),", ",ae(i)]})]}),e.jsx("div",{className:"flex gap-2",children:e.jsxs("button",{onClick:()=>p(r==="day"?"week":"day"),className:`btn-ghost text-xs ${r==="week"?"bg-indigo-500/20 text-indigo-300":""}`,children:[e.jsx(G,{size:14,className:"inline mr-1"}),r==="day"?"Week":"Day"]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{onClick:()=>x(S(i,-1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(ie,{size:18,className:"text-white/60"})}),e.jsx("div",{className:"flex gap-2",children:B.map((s,t)=>{const a=ne(s,i),h=_(s);return e.jsxs("button",{onClick:()=>x(s),className:`flex flex-col items-center w-10 py-2 rounded-xl transition-all ${a?"bg-gradient-to-b from-indigo-500/20 to-violet-500/20 border border-indigo-500/30":"hover:bg-white/5"}`,children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[t]}),e.jsx("span",{className:`text-sm font-medium mt-1 ${a?"text-white":h?"text-indigo-400":"text-white/60"}`,children:s.getDate()})]},t)})}),e.jsx("button",{onClick:()=>x(S(i,1)),className:"w-9 h-9 rounded-xl bg-white/5 flex items-center justify-center hover:bg-white/10 transition-colors",children:e.jsx(le,{size:18,className:"text-white/60"})})]}),e.jsx("div",{className:"overflow-x-auto no-scrollbar -mx-5 px-5",children:e.jsx("div",{className:"flex gap-3",children:ue.map(s=>{const t=!!$[s.id],a=O(s.id);return e.jsxs("button",{onClick:()=>P({...$,[s.id]:!t}),className:"flex flex-col items-center gap-1.5 flex-shrink-0",title:s.label,children:[e.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all ${t?"border-indigo-400 bg-indigo-500/20":"border-white/15 bg-white/5"}`,children:t?e.jsx(E,{size:16,className:"text-indigo-400"}):e.jsx("span",{className:"text-[10px] text-white/40",children:s.short})}),a>0&&e.jsxs("span",{className:"text-[9px] text-indigo-400 flex items-center gap-0.5",children:[e.jsx(ce,{size:8}),a]})]},s.id)})})}),w.length>0&&e.jsx("div",{className:"space-y-2",children:w.map((s,t)=>e.jsxs("div",{className:"glass-card-sm px-4 py-3 flex items-center gap-3 text-sm",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-amber-400 flex-shrink-0"}),e.jsx("span",{className:"text-white/70",children:s})]},t))}),r==="day"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:ge.map(s=>{const t=o.filter(a=>a.block===s.id);return e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(s.icon,{size:16,className:"text-white/40"}),e.jsx("h3",{className:"text-sm font-heading font-semibold text-white",children:s.label}),e.jsx("span",{className:"text-xs text-white/30 ml-auto",children:s.range})]}),t.length===0?e.jsx("p",{className:"text-xs text-white/30 py-2",children:"No tasks scheduled"}):e.jsx("div",{className:"space-y-2",children:t.map(a=>(xe[a.category]||F,e.jsxs("div",{onClick:()=>H(a.id),className:`flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-all ${a.done?"bg-white/[0.02] opacity-60":"bg-white/5 hover:bg-white/[0.07]"}`,children:[e.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 transition-all ${a.done?"border-indigo-400 bg-indigo-500/30":"border-white/20"}`,children:a.done&&e.jsx(E,{size:10,className:"text-indigo-400"})}),e.jsx("div",{className:"w-2 h-2 rounded-full flex-shrink-0",style:{background:T[a.category]}}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("p",{className:`text-sm ${a.done?"line-through text-white/40":"text-white"}`,children:a.title})}),e.jsx("span",{className:"text-xs text-white/30 flex-shrink-0",children:a.time})]},a.id)))})]},s.id)})}),o.length>0&&e.jsxs(N,{padding:"p-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[e.jsx("span",{className:"text-white/60",children:"Day Progress"}),e.jsxs("span",{className:"text-white/40",children:[z,"/",o.length," tasks"]})]}),e.jsx(Z,{value:z,max:o.length})]}),e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-3",children:"Daily Reflection"}),e.jsx("div",{className:"flex gap-3 mb-4",children:he.map((s,t)=>e.jsx("button",{onClick:()=>A({...j,mood:t}),className:`text-2xl p-2 rounded-xl transition-all ${j.mood===t?"bg-indigo-500/20 scale-110":"opacity-50 hover:opacity-80"}`,children:s},t))}),e.jsx("input",{type:"text",placeholder:"How was your day?",value:j.note,onChange:s=>A({...j,note:s.target.value}),className:"glass-input text-sm"})]})]}):e.jsxs(N,{children:[e.jsx("h3",{className:"text-sm font-heading font-semibold text-white mb-4",children:"Weekly Overview"}),e.jsx("div",{className:"grid grid-cols-7 gap-2",children:B.map((s,t)=>{const a=C(s),h=g[a]||[],y=h.filter(I=>I.done).length,v=h.length,R=v?y/v*100:0,V=_(s);return e.jsxs("button",{onClick:()=>{x(s),p("day")},className:"flex flex-col items-center gap-2 p-2 rounded-xl hover:bg-white/5 transition-all",children:[e.jsx("span",{className:"text-[10px] text-white/40",children:L[t]}),e.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center text-xs font-medium border ${V?"border-indigo-400":"border-transparent"}`,style:{background:R>0?`rgba(99,102,241,${Math.max(.1,R/100*.5)})`:"rgba(255,255,255,0.03)"},children:s.getDate()}),e.jsx("span",{className:"text-[9px] text-white/30",children:v>0?`${y}/${v}`:"-"})]},t)})})]}),f&&e.jsx(pe,{onAdd:K,onClose:()=>m(!1)}),e.jsx(ee,{onClick:()=>m(!0)})]})}function pe({onAdd:i,onClose:x}){const[r,p]=d.useState(""),[f,m]=d.useState("09:00"),[l,g]=d.useState("work"),[b,u]=d.useState("morning"),k=n=>{n.preventDefault(),r.trim()&&i({title:r.trim(),time:f,category:l,block:b})};return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center overflow-y-auto",onClick:x,children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs("div",{className:"relative glass-card w-full max-w-md p-6 mx-4 mb-24 md:mb-0 max-h-[85vh] overflow-y-auto animate-slideUp",onClick:n=>n.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-5",children:[e.jsx("h3",{className:"font-heading font-semibold text-white text-lg",children:"Add Task"}),e.jsx("button",{onClick:x,className:"w-8 h-8 rounded-full bg-white/10 flex items-center justify-center",children:e.jsx(Q,{size:16,className:"text-white/70"})})]}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("input",{type:"text",placeholder:"Task title",value:r,onChange:n=>p(n.target.value),className:"glass-input",autoFocus:!0}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Time"}),e.jsx("input",{type:"time",value:f,onChange:n=>m(n.target.value),className:"glass-input text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-1 block",children:"Block"}),e.jsxs("select",{value:b,onChange:n=>u(n.target.value),className:"glass-input text-sm",children:[e.jsx("option",{value:"morning",children:"Morning"}),e.jsx("option",{value:"afternoon",children:"Afternoon"}),e.jsx("option",{value:"evening",children:"Evening"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-white/40 mb-2 block",children:"Category"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:me.map(n=>{const c=n.toLowerCase();return e.jsx("button",{type:"button",onClick:()=>g(c),className:`px-3 py-1.5 rounded-xl text-xs font-medium transition-all ${l===c?"text-white":"text-white/50 bg-white/5"}`,style:l===c?{background:`${T[c]}30`,color:T[c]}:{},children:n},c)})})]}),e.jsx("button",{type:"submit",className:"btn-primary w-full py-3",children:"Add Task"})]})]})]})}export{$e as default};
